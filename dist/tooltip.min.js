const t=Symbol("calc.target.rect"),e=Symbol("calc.position"),n=Symbol("position.key"),o=Object.freeze({far:"far",near:"near",below:"below",above:"above"}),i=Object.freeze([o.below,o.above,o.far,o.near]);let s=i;export{o as POSITIONS,a as tooltip,l as setPositionFallbacks};function a(t,e){}function l(...t){(s=t.filter(t=>t in o)).push(...i.filter(t=>s.indexOf(t)<0))}const h=document.createElement("template");h.innerHTML="\n\t<style>\n\t\t:host {\n\t\t\tposition: fixed;\n\t\t\tpadding: 24px;\n\t\t\tdisplay: none;\n\t\t\tz-index: 9999;\n\t\t\toverflow: hidden;\n\t\t\tborder-radius: 12px;\n\t\t\tbox-shadow: 0 0 12px rgba(100,100,100,0.5);\n\t\t\ttransition: opacity 333ms;\n\t\t}\n\n\t\t:host(.pre-shown) {\n\t\t\tdisplay: block;\n\t\t\topacity: 0;\n\t\t}\n\n\t\t:host(.shown) {\n\t\t\tdisplay: block;\n\t\t\topacity: 1;\n\t\t}\n\n\t\t:host(.inverse) {\n\t\t\tcolor: #fff;\n\t\t\tbackground-color: #000;\n\t\t\tbox-shadow: none;\n\t\t}\n\t</style>\n\n\t<slot></slot>\n",customElements.define("tool-tip",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild(h.content.cloneNode(!0))}connectedCallback(){this[n]||(this[n]=this.dataset.position||s[0]);const t=this.dataset.targetId,e=this.dataset.targetClass;if(!t&&!e)return void console.error("tooltip has nor target-id neither target-class defined, this tooltip will not be used");const o=this.getRootNode().querySelectorAll(t?"#"+t:"."+e);o.length?o.forEach(t=>{t.addEventListener("mouseenter",t=>this.show(t.target)),t.addEventListener("mouseleave",t=>this.hide())}):console.error('failed to match any target element by id "'+t+'", this tooltip will not be used')}show(n){this.classList.add("pre-shown");const o=this[t](n),i=this[e](o);Object.assign(this.style,i),this.classList.replace("pre-shown","shown")}hide(){this.classList.remove("shown")}get position(){return this[n]}set position(t){t in o&&this[n]!==t&&(this[n]=t)}[t](t){return t.getBoundingClientRect()}[e](t){const e=[this.position];e.push(...s.filter(t=>e.indexOf(t)<0));const n=this.offsetWidth,i=this.offsetHeight,a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,h={},r="rtl"===getComputedStyle(document.body).direction;return e.some(e=>{if(e===o.below&&i<=l-t.bottom-12){let e=t.x+t.width/2-n/2;e=Math.max(12,e),e=Math.min(a-n-12,e),h.top=t.bottom+12+"px",h.left=e+"px"}else if(e===o.above&&i<=t.y-12){let e=t.x+t.width/2-n/2;e=Math.max(12,e),e=Math.min(a-n-12,e),h.top=t.y-i-12+"px",h.left=e+"px"}else if((e===o.far&&r||e===o.near&&!r)&&t.x>=n+12){let e=t.y+t.height/2-i/2;e=Math.max(12,e),e=Math.min(l-i-12,e),h.top=e+"px",h.left=t.x-n-12+"px"}else if(a-t.right>=n+12){let e=t.y+t.height/2-i/2;e=Math.max(12,e),e=Math.min(l-i-12,e),h.top=e+"px",h.left=t.right+12+"px"}return h.top&&h.left}),h}});