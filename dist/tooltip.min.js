const t=Symbol("calc.target.rect"),e=Symbol("calc.position"),o=Symbol("position.key"),n=Symbol("show.delay.key"),s=Symbol("future.show.key"),i=Object.freeze({far:"far",near:"near",below:"below",above:"above"}),r=Object.freeze([i.below,i.above,i.far,i.near]);let a=r;export{i as POSITIONS,h as tooltip,l as setPositionFallbacks};function h(t,e,o){if(!t||t.nodeType!==Node.ELEMENT_NODE)throw new Error("target MUST be an Element node");if(!t.id)throw new Error('target MUST have a non-empty (unique) "id" property');if(!e||"string"!=typeof e&&e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.TEXT_NODE)throw new Error('invalid content, MUST either be a "string", an Element node or a Text node');const n=document.createElement("tool-tip");return"string"==typeof e?n.innerText=e:n.appendChild(e),document.body.appendChild(n),n.show(t),n}function l(...t){(a=t.filter(t=>t in i)).push(...r.filter(t=>a.indexOf(t)<0))}const d=document.createElement("template");d.innerHTML="\n\t<style>\n\t\t:host {\n\t\t\tposition: fixed;\n\t\t\tpadding: 24px;\n\t\t\tdisplay: none;\n\t\t\tz-index: 9999;\n\t\t\toverflow: hidden;\n\t\t\tborder-radius: 12px;\n\t\t\tbox-shadow: 0 0 12px rgba(100,100,100,0.5);\n\t\t\ttransition: opacity 333ms, transform 333ms;\n\t\t}\n\n\t\t:host(.pre-shown) {\n\t\t\tdisplay: block;\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.85);\n\t\t}\n\n\t\t:host(.shown) {\n\t\t\tdisplay: block;\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1);\n\t\t}\n\n\t\t:host(.inverse) {\n\t\t\tcolor: #fff;\n\t\t\tbackground-color: #000;\n\t\t\tbox-shadow: none;\n\t\t}\n\t</style>\n\n\t<slot></slot>\n",customElements.define("tool-tip",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild(d.content.cloneNode(!0))}connectedCallback(){this[o]||(this[o]=this.dataset.position||a[0]),this[n]||(this[n]=this.dataset.showDelay||253);const t=this.dataset.targetId,e=this.dataset.targetClass;if(!t&&!e)return void console.error("tooltip has nor target-id neither target-class defined, this tooltip will not be used");const i=this.getRootNode().querySelectorAll(t?"#"+t:"."+e);i.length?i.forEach(t=>{t.addEventListener("mouseenter",t=>{this[s]||(this[s]=setTimeout(()=>{this[s]=null,this.show(t.target)},this.showDelay))}),t.addEventListener("mouseleave",t=>{this.classList.contains("shown")?this.hide():this[s]&&(clearTimeout(this[s]),this[s]=null)})}):console.error('failed to match any target element by id "'+t+'", this tooltip will not be used')}show(o){this.classList.add("pre-shown");const n=this[t](o),s=this[e](n);Object.assign(this.style,s),this.classList.replace("pre-shown","shown")}hide(){this.classList.remove("shown")}get position(){return this[o]}set position(t){t in i&&this[o]!==t&&(this[o]=t)}get showDelay(){return this[n]}set showDelay(t){"number"!=typeof t||isNaN(t)||this[n]===t||(this[n]=t)}[t](t){return t.getBoundingClientRect()}[e](t){const e=[this.position];e.push(...a.filter(t=>e.indexOf(t)<0));const o=this.offsetWidth,n=this.offsetHeight,s=document.documentElement.clientWidth,r=document.documentElement.clientHeight,h={},l="rtl"===getComputedStyle(document.body).direction;return e.some(e=>{if(e===i.below&&n<=r-t.bottom-12){let e=t.x+t.width/2-o/2;e=Math.max(12,e),e=Math.min(s-o-12,e),h.top=t.bottom+12+"px",h.left=e+"px"}else if(e===i.above&&n<=t.y-12){let e=t.x+t.width/2-o/2;e=Math.max(12,e),e=Math.min(s-o-12,e),h.top=t.y-n-12+"px",h.left=e+"px"}else if((e===i.far&&l||e===i.near&&!l)&&t.x>=o+12){let e=t.y+t.height/2-n/2;e=Math.max(12,e),e=Math.min(r-n-12,e),h.top=e+"px",h.left=t.x-o-12+"px"}else if(s-t.right>=o+12){let e=t.y+t.height/2-n/2;e=Math.max(12,e),e=Math.min(r-n-12,e),h.top=e+"px",h.left=t.right+12+"px"}return h.top&&h.left}),h}});